<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Имперский магазин | The Millennium Empire</title>

    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self' https:;
                   script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://www.google.com/recaptcha/ https://www.gstatic.com/recaptcha/;
                   style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
                   font-src https://fonts.gstatic.com;
                   frame-src https://www.google.com/recaptcha/ https://qiwi.com https://yoomoney.ru https://www.donationalerts.com;
                   object-src 'none'; base-uri 'self';">
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Referrer-Policy" content="strict-origin">

    <!-- CDN без integrity -->
    <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6Lfxxxxxxxxxxxxxxxxxxxx"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:#000;color:#fff;font-family:'Orbitron',sans-serif;overflow-x:hidden;position:relative}
        body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:url('https://media.discordapp.net/attachments/1462877141417984014/1462882401356222506/image.png?ex=696fcee7&is=696e7d67&hm=f5d6da3dc12860fd3aa9b5485f25940ad750c5e412add109fffd0233566941b8&=&format=webp&quality=lossless&width=1760&height=810') center/cover no-repeat;z-index:-2;animation:bgZoom 20s ease-in-out infinite}
        body::after{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);z-index:-1}
        @keyframes bgZoom{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
        header{position:sticky;top:0;background:rgba(0,0,0,.9);backdrop-filter:blur(10px);padding:20px 40px;display:flex;justify-content:space-between;align-items:center;z-index:100;border-bottom:1px solid #5865F2;box-shadow:0 0 20px rgba(88,101,242,.3)}
        .logo-txt{font-size:2.6rem;font-weight:700;letter-spacing:4px;background:linear-gradient(45deg,#fff,#aaa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 40px rgba(255,255,255,.5);animation:glow 3s ease-in-out infinite}
        @keyframes glow{50%{text-shadow:0 0 60px rgba(255,255,255,.9)}}
        .back-btn{border:1px solid #5865F2;padding:8px 16px;border-radius:8px;color:#fff;text-decoration:none;transition:all .3s ease}
        .back-btn:hover{background:rgba(88,101,242,.2);box-shadow:0 0 15px rgba(88,101,242,.5)}
        
        /* Навигация */
        nav{display:flex;justify-content:center;gap:20px;margin:40px 0;flex-wrap:wrap}
        .nav-btn{background:linear-gradient(45deg,#1a1a1a,#2d2d2d);border:1px solid #5865F2;padding:14px 28px;border-radius:12px;font-size:1.1rem;font-weight:700;color:#fff;text-decoration:none;transition:all .3s ease;text-align:center;position:relative;overflow:hidden}
        .nav-btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(88,101,242,.4),transparent);transition:left .6s ease}
        .nav-btn:hover::before{left:100%}
        .nav-btn:hover{background:rgba(88,101,242,.1);box-shadow:0 0 30px rgba(88,101,242,.6);transform:translateY(-3px)}
        .nav-btn.active{background:rgba(88,101,242,.2);box-shadow:0 0 25px rgba(88,101,242,.8);border-color:#fff}
        
        .content{max-width:1200px;margin:40px auto;padding:0 20px;text-align:center}
        .shop-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;margin-top:40px}
        .shop-card{background:rgba(26,26,26,.9);border:2px solid #f39c12;border-radius:20px;padding:30px 20px;transform-style:preserve-3d;box-shadow:0 0 30px rgba(243,156,18,.5);transition:transform .2s ease}
        .shop-card:hover{transform:translateY(-5px)}
        .card-title{font-size:1.6rem;color:#f39c12;margin-bottom:10px;text-shadow:0 0 15px rgba(243,156,18,.8)}
        .card-desc{font-size:1rem;line-height:1.5;margin-bottom:20px;color:#ddd}
        .card-price{font-size:1.8rem;font-weight:700;color:#fff;margin-bottom:20px}
        .buy-btn{background:linear-gradient(45deg,#f39c12,#e67e22);color:#000;font-weight:700;font-size:1.2rem;padding:12px 35px;border:none;border-radius:25px;cursor:pointer;transition:all .3s ease}
        .buy-btn:hover{transform:scale(1.05);box-shadow:0 0 30px rgba(243,156,18,.9)}

        /* модальное окно */
        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:200;align-items:center;justify-content:center}
        .modal-content{background:#111;border:2px solid #f39c12;border-radius:20px;padding:40px 30px;max-width:400px;width:90%;text-align:center;box-shadow:0 0 40px rgba(243,156,18,.7)}
        .modal-title{font-size:1.7rem;color:#f39c12;margin-bottom:15px}
        .modal-text{font-size:1rem;margin-bottom:25px;color:#ddd}
        .pay-buttons{display:flex;flex-direction:column;gap:12px;align-items:center;width:100%}
        .pay-btn{width:100%;max-width:280px;text-align:center;box-sizing:border-box;background:#5865F2;color:#fff;border:none;padding:12px;border-radius:12px;font-size:1rem;cursor:pointer;transition:all .3s ease;text-decoration:none}
        .pay-btn:hover{background:#7289DA;box-shadow:0 0 15px rgba(114,137,218,.8)}
        .close-btn{margin-top:15px;background:transparent;border:1px solid #aaa;color:#aaa;padding:8px 20px;border-radius:8px;cursor:pointer}
        .close-btn:hover{border-color:#fff;color:#fff}
        
        @media(max-width:768px){
            .logo-txt{font-size:1.8rem}
            header{padding:15px 20px;flex-direction:column;gap:10px;text-align:center}
            .nav-btn{width:90%}
        }
    </style>
</head>
<body>
<header>
    <a class="back-btn" href="index.html">← Назад</a>
    <div class="logo-txt">Имперский магазин</div>
</header>

<nav>
    <a href="index.html" class="nav-btn">Главная</a>
    <a href="rules.html" class="nav-btn">Правила</a>
    <a href="hierarchy.html" class="nav-btn">Иерархия</a>
    <a href="donate.html" class="nav-btn active" style="border-color:#f39c12;color:#f39c12">Донат</a>
</nav>

<section class="content">
    <h2 style="font-size:2.2rem;color:#f39c12;text-shadow:0 0 20px rgba(243,156,18,.8);">Поддержи Империю — получи преимущества!</h2>

    <div class="shop-grid">
        <!-- 1. Элитная профессия -->
        <div class="shop-card" data-tilt data-tilt-max="15" data-tilt-speed="400" data-tilt-glare="true" data-tilt-max-glare="0.3">
            <div class="card-title">ELITE TROOPER</div>
            <div class="card-desc">Доступ к закрытому классу Elite Stormtrooper: уникальное снаряжение, повышенный HP, доступ к команде /elite.</div>
            <div class="card-price">149 ₽</div>
            <button class="buy-btn" onclick="openModal('ELITE TROOPER',149,'elite')">Купить</button>
        </div>

        <!-- 2. Оружие -->
        <div class="shop-card" data-tilt data-tilt-max="15" data-tilt-speed="400" data-tilt-glare="true" data-tilt-max-glare="0.3">
            <div class="card-title">E-11S SNIPER</div>
            <div class="card-desc">Уникальный снайперский E-11S с увеличенным уроном и прицелом. Выдаётся навсегда.</div>
            <div class="card-price">99 ₽</div>
            <button class="buy-btn" onclick="openModal('E-11S SNIPER',99,'sniper')">Купить</button>
        </div>

        <!-- 3. Админка -->
        <div class="shop-card" data-tilt data-tilt-max="15" data-tilt-speed="400" data-tilt-glare="true" data-tilt-max-glare="0.3">
            <div class="card-title">ULTRA ADMIN</div>
            <div class="card-desc">Права ULX на 30 дней: kick, ban, noclip, spawn, godmode. Для проверенных игроков.</div>
            <div class="card-price">599 ₽</div>
            <button class="buy-btn" onclick="openModal('ULTRA ADMIN',599,'admin')">Купить</button>
        </div>

        <!-- 4. VIP-скин -->
        <div class="shop-card" data-tilt data-tilt-max="15" data-tilt-speed="400" data-tilt-glare="true" data-tilt-max-glare="0.3">
            <div class="card-title">IMPERIAL GUARD SKIN</div>
            <div class="card-desc">Уникальный скин Imperial Guard (crimson). Навсегда + бонус к броне.</div>
            <div class="card-price">79 ₽</div>
            <button class="buy-btn" onclick="openModal('IMPERIAL GUARD SKIN',79,'skin')">Купить</button>
        </div>

        <!-- 5. Транспорт -->
        <div class="shop-card" data-tilt data-tilt-max="15" data-tilt-speed="400" data-tilt-glare="true" data-tilt-max-glare="0.3">
            <div class="card-title">TIE INTERCEPTOR</div>
            <div class="card-desc">Личный TIE-Interceptor с пулемётами и турелями. Спавнится командой /tie</div>
            <div class="card-price">349 ₽</div>
            <button class="buy-btn" onclick="openModal('TIE INTERCEPTOR',349,'tie')">Купить</button>
        </div>

        <!-- 6. Пакет «Всё включено» -->
        <div class="shop-card" data-tilt data-tilt-max="15" data-tilt-speed="400" data-tilt-glare="true" data-tilt-max-glare="0.3">
            <div class="card-title">IMPERIAL BUNDLE</div>
            <div class="card-desc">Скидка 25%: Elite + Sniper + Skin + TIE. Активация в течение 24 ч после оплаты.</div>
            <div class="card-price">599 ₽</div>
            <button class="buy-btn" onclick="openModal('IMPERIAL BUNDLE',599,'bundle')">Купить</button>
        </div>
    </div>
</section>

<!-- Модальное окно оплаты -->
<div class="modal" id="payModal">
    <div class="modal-content">
        <div class="modal-title">Выбор способа оплаты</div>
        <div class="modal-text">После оплаты напиши в Discord #donate – выдадим товар в течение 5 минут.</div>
        <div class="pay-buttons">
            <a class="pay-btn" id="qiwiLink" href="#" target="_blank">QIWI – быстро и без комиссии</a>
            <a class="pay-btn" id="yoomoneyLink" href="#" target="_blank">ЮMoney – со счёта/карты</a>
            <a class="pay-btn" id="daLink" href="#" target="_blank">DonationAlerts – любая сумма</a>
        </div>
        <button class="close-btn" onclick="closeModal()">Закрыть</button>
    </div>
</div>

<script>
const DONATION_SECRET = 'YOUR_DONATION_SECRET';   // замените на свой из DA
function openModal(item,price,id){
    // генерируем одноразовый код
    const code = id + '_' + Math.random().toString(36).substr(2,8);
    document.getElementById('payModal').style.display='flex';

    // прокси-ссылки (вместо прямых кошельков)
    document.getElementById('qiwiLink').href     = `/pay?gate=qiwi&amount=${price}&code=${code}`;
    document.getElementById('yoomoneyLink').href = `/pay?gate=yoomoney&amount=${price}&code=${code}`;
    document.getElementById('daLink').href       = `/pay?gate=da&amount=${price}&code=${code}`;
}
function closeModal(){
    document.getElementById('payModal').style.display='none';
}
// закрыть по клику вне окна
document.getElementById('payModal').addEventListener('click',function(e){
    if(e.target===this) closeModal();
});
// 3D-наклон карточек
VanillaTilt.init(document.querySelectorAll('.shop-card'),{max:15,speed:400,glare:true,'max-glare':0.3});
</script>
</body>
</html>